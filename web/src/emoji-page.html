<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<script src="emoji-lib.js"></script>

<dom-module id="emoji-page">
    <template>
        <style>
            :host{
                min-height:72px;
            }
        </style>
        <div>
        <template is="dom-repeat" items="{{items}}">
            <iron-icon name="[[item]]" src="[[emojiImage(item)]]" on-tap="pick">
            </iron-icon>
        </template>
        </div>
    </template>
    <script>
        Polymer({
            is: 'emoji-page',

            properties: {
                category:String,
                items:{
                    type:Array,
                    value:[]
                }
            },
            ready:function(){
                var self=this;
                emojis.forEach(function(item){
                   if (item.category==self.category){
                       self.push('items',item.name);
                   }
                });

            },
            emojiImage:function(name){
                var item=emojis.find(function(item){
                    return item.name==name;
                });
                return item.base64;
            },
            pick:function(e){
                this.fire('pick-emoji',e);
            }
        });
    </script>

</dom-module>